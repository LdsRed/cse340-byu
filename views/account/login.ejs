<div class="login-container">
    <h1> <%= title %></h1>

    <div class="spacing">
        <!-- Mensajes Flash -->
        <% if (success) { %>
            <div class="alert alert-success">
                <%= success %>
            </div>
        <% } %>

        <% if (notice) { %>
            <div class="alert alert-info">
                <%= notice %>
            </div>
        <% } %>

        <% if (error && error.length) { %>
            <div class="alert alert-danger">
                <% error.forEach(err => { %>
                    <p><%= err %></p>
                <% }); %>
            </div>
        <% } %>

        <%= locals.messages%>
    </div>


    <form id="loginForm" class="login-form" action="/account/login" method="POST">
        <div class="form-line-division">
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email"
                placeholder="Email Address"
                id="email"
                name="account_email"
                autocomplete="username"
                value="<%= locals.account_email || ''%>"
                required>
            </div>


            <div class="error-container">
                <% if (fieldErrors && fieldErrors.account_email) { %>
                    <div class="invalid-feedback">
                        <% fieldErrors.account_email.forEach(msg => { %>
                            <p><%= msg %></p>
                        <% }); %>
                    </div>
                <% } %>
            </div>

            <div class="form-group">
                <label for="password">Password:</label>
                <div class="password-container">
                    <input type="password" placeholder="Password"
                    id="password"
                    name="account_password"
                    autocomplete="current-password"
                    required>
                    <button type="button"  class="password-toggle">
                        <img src="/images/eye-close.png" id="eyeicon">
                    </button>
                </div>
            </div>

            <div class="error-container">
                <% if (fieldErrors && fieldErrors.account_password) { %>
                    <div class="invalid-feedback">
                        <% fieldErrors.account_password.forEach(msg => { %>
                            <p><%= msg %></p>
                        <% }); %>
                    </div>
                <% } %>
            </div>
            <div class="login-btn">
                <button type="submit" id="submitBtn">Login</button>
            </div>
            <div class="form-footer">
                <p>Don't have an account? <a href="/account/register">Register here</a></p>
            </div>
        </div>
    </form>
    
</div>